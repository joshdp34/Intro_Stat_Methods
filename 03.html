<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>3&nbsp; Describing Data with Tables and Graphs ‚Äì STA 2381 Introductory Statistical Methods</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-2ea2d3e7f2364fcda3d434693d3458e0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>
div.callout-example.callout {
  border-left-color: #008000;
}
div.callout-example.callout-style-default > .callout-header {
  background-color: rgba(0, 128, 0, 0.13);
}
div.callout-example .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-example.callout-style-default .callout-icon::before, div.callout-example.callout-titled .callout-icon::before {
  content: 'üìà';
  background-image: none;
}
</style>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href=".center-panel.quarto-layout-panel {
  justify-content: center;
  column-gap: 1rem;
}">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./03.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Describing Data with Tables and Graphs</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./"></a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to Statistics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Collecting Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Describing Data with Tables and Graphs</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-03_01" id="toc-sec-03_01" class="nav-link active" data-scroll-target="#sec-03_01"><span class="header-section-number">3.1</span> Organizing Categorical Data</a>
  <ul class="collapse">
  <li><a href="#frequency-and-relative-frequency-tables" id="toc-frequency-and-relative-frequency-tables" class="nav-link" data-scroll-target="#frequency-and-relative-frequency-tables">Frequency and relative frequency tables</a></li>
  <li><a href="#two-way-contingency-tables" id="toc-two-way-contingency-tables" class="nav-link" data-scroll-target="#two-way-contingency-tables">Two-way (contingency) tables</a></li>
  <li><a href="#why-percentages-matter" id="toc-why-percentages-matter" class="nav-link" data-scroll-target="#why-percentages-matter">Why percentages matter</a></li>
  <li><a href="#working-in-jmp" id="toc-working-in-jmp" class="nav-link" data-scroll-target="#working-in-jmp">Working in JMP</a></li>
  <li><a href="#recap" id="toc-recap" class="nav-link" data-scroll-target="#recap">Recap</a></li>
  <li><a href="#check-your-understanding" id="toc-check-your-understanding" class="nav-link" data-scroll-target="#check-your-understanding">Check your understanding</a></li>
  </ul></li>
  <li><a href="#sec-03_02" id="toc-sec-03_02" class="nav-link" data-scroll-target="#sec-03_02"><span class="header-section-number">3.2</span> Bar Charts and Pie Charts</a>
  <ul class="collapse">
  <li><a href="#what-is-a-bar-chart" id="toc-what-is-a-bar-chart" class="nav-link" data-scroll-target="#what-is-a-bar-chart">What is a bar chart?</a></li>
  <li><a href="#design-tips-for-bar-charts" id="toc-design-tips-for-bar-charts" class="nav-link" data-scroll-target="#design-tips-for-bar-charts">Design tips for bar charts</a></li>
  <li><a href="#keep-consistent-spacing" id="toc-keep-consistent-spacing" class="nav-link" data-scroll-target="#keep-consistent-spacing">Keep consistent spacing</a></li>
  <li><a href="#sort-deliberately" id="toc-sort-deliberately" class="nav-link" data-scroll-target="#sort-deliberately">Sort deliberately</a></li>
  <li><a href="#avoid-clutter-and-gimmicks" id="toc-avoid-clutter-and-gimmicks" class="nav-link" data-scroll-target="#avoid-clutter-and-gimmicks">Avoid clutter and gimmicks</a></li>
  <li><a href="#why-these-rules-matter" id="toc-why-these-rules-matter" class="nav-link" data-scroll-target="#why-these-rules-matter">Why these rules matter</a></li>
  <li><a href="#what-is-a-pie-chart" id="toc-what-is-a-pie-chart" class="nav-link" data-scroll-target="#what-is-a-pie-chart">What is a pie chart?</a></li>
  <li><a href="#when-to-use-bar-charts-vs.-pie-charts" id="toc-when-to-use-bar-charts-vs.-pie-charts" class="nav-link" data-scroll-target="#when-to-use-bar-charts-vs.-pie-charts">When to use bar charts vs.&nbsp;pie charts</a></li>
  <li><a href="#a-practical-rule-of-thumb" id="toc-a-practical-rule-of-thumb" class="nav-link" data-scroll-target="#a-practical-rule-of-thumb">A practical rule of thumb</a></li>
  <li><a href="#clustered-and-stacked-bar-charts" id="toc-clustered-and-stacked-bar-charts" class="nav-link" data-scroll-target="#clustered-and-stacked-bar-charts">Clustered and stacked bar charts</a></li>
  <li><a href="#working-in-jmp-1" id="toc-working-in-jmp-1" class="nav-link" data-scroll-target="#working-in-jmp-1">Working in JMP</a></li>
  <li><a href="#recap-1" id="toc-recap-1" class="nav-link" data-scroll-target="#recap-1">Recap</a></li>
  <li><a href="#check-your-understanding-1" id="toc-check-your-understanding-1" class="nav-link" data-scroll-target="#check-your-understanding-1">Check your understanding</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Describing Data with Tables and Graphs</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="sec-03_01" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="sec-03_01"><span class="header-section-number">3.1</span> Organizing Categorical Data</h2>
<blockquote class="blockquote">
<p>‚ÄúThe greatest value of a picture is when it forces us to notice what we never expected to see.‚Äù ‚Äì John Tukey</p>
</blockquote>
<p>When you collect data that fall into groups‚Äîlike preferred streaming service, political affiliation, or type of pet‚Äîthe first step is to count how many observations fall into each category. Those counts form the backbone of both tables and graphs for categorical data. In this section we‚Äôll learn how to build simple frequency tables, translate them into proportions or percentages, and organize two categorical variables together in a two‚Äëway table. Along the way we‚Äôll see when different visual summaries make sense and preview bar and pie charts (covered in detail in <a href="#sec-03_02" class="quarto-xref"><span>Section 3.2</span></a>).</p>
<section id="frequency-and-relative-frequency-tables" class="level3">
<h3 class="anchored" data-anchor-id="frequency-and-relative-frequency-tables">Frequency and relative frequency tables</h3>
<p>A <strong>frequency table</strong> is a basic but powerful tool for summarizing a <strong>categorical variable</strong>. It lists each distinct category and records how many observations fall into that category. By organizing raw data into counts, a frequency table provides an immediate snapshot of how the data are distributed across categories, making patterns and imbalances easy to see.</p>
<p>A typical frequency table has two columns: one for the category labels and one for their <strong>frequencies</strong> (counts). Constructing a frequency table involves identifying all possible categories and tallying the number of observations in each. This process is often the first step in data analysis because it reduces a potentially large and messy dataset into a clear and interpretable summary.</p>
<p>While frequency tables report absolute counts, these counts can be misleading when sample sizes differ. For example, a category with 50 observations may seem large, but its importance depends on whether the total sample size is 100 or 1,000. To address this, we often compute <strong>relative frequencies</strong>.</p>
<p>A <strong>relative frequency</strong> expresses the count for each category as a proportion of the total number of observations. When a column of relative frequencies‚Äîor percentages‚Äîis added to a frequency table, the result is called a <strong>relative frequency table</strong>. Relative frequencies are calculated by dividing each category‚Äôs count by the total sample size. Because they represent proportions of the whole, relative frequencies always sum to 1 (or 100% when expressed as percentages).</p>
<p>Relative frequency tables are especially useful for <strong>comparing distributions across different samples or populations</strong>. By focusing on proportions rather than raw counts, they allow meaningful comparisons even when the underlying sample sizes are not the same. For this reason, relative frequencies are commonly used in reports, visualizations, and summaries intended for broad audiences.</p>
<p>In practice, frequency and relative frequency tables often serve as the foundation for graphical displays such as bar charts and pie charts, providing a clear numerical summary that complements visual representations of categorical data.</p>
<div class="callout callout-style-simple callout-example callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 3.1: Common symptoms in a clinic
</div>
</div>
<div class="callout-body-container callout-body">
<p>Imagine you survey 30 patients at a local clinic about the primary symptom that brought them in. You record four categories: ‚ÄúHeadache,‚Äù ‚ÄúBack pain,‚Äù ‚ÄúFatigue,‚Äù and ‚ÄúNausea.‚Äù We can organize the responses in a simple table of counts and proportions. Below we simulate such a survey and display the results.</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">response</th>
<th style="text-align: right;">frequency</th>
<th style="text-align: right;">relative_frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Back pain</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0.3000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fatigue</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0.3000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Headache</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">0.2666667</td>
</tr>
<tr class="even">
<td style="text-align: left;">Nausea</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0.1333333</td>
</tr>
</tbody>
</table>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="03_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>The table lists the four categories in alphabetical order with their counts and relative frequencies. For instance, if 8 of the 30 patients reported ‚ÄúHeadache,‚Äù the relative frequency of ‚ÄúHeadache‚Äù is <span class="math inline">\(8/30 \approx 0.27\)</span>. The accompanying bar chart gives a visual sense of the same information: each bar‚Äôs height corresponds to a category‚Äôs frequency, and the bars are separated to emphasize that the categories have no inherent order. In practice you might reorder the bars to make the graph easier to read‚Äîperhaps putting the largest category first.</p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled" title="Pareto charts">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Pareto charts
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Sometimes you want to highlight the few categories that account for most of the observations. A <strong>Pareto chart</strong> is a bar chart arranged in descending order of frequency and often paired with a cumulative percentage line. It helps you identify the ‚Äúvital few and trivial many‚Äù in quality control and business applications. Pareto charts are useful when there are many categories and you want to focus attention on the most common causes or responses.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip:
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>In JMP you can create a frequency table by selecting <strong>Analyze ‚Üí Distribution</strong>, assigning your categorical variable to the X role, and examining the resulting counts. To add relative frequencies, use the red triangle menu (‚ñ∏) to choose <strong>Display Options ‚Üí Show Percent</strong>. JMP‚Äôs Graph Builder will automatically construct a bar chart when you drag a categorical variable to the X‚Äëaxis and the count statistic to the Y‚Äëaxis.</p>
</div>
</div>
</div>
</section>
<section id="two-way-contingency-tables" class="level3">
<h3 class="anchored" data-anchor-id="two-way-contingency-tables">Two-way (contingency) tables</h3>
<p>When data include two categorical variables, a natural question is whether‚Äîand how‚Äîthose variables are related. A <strong>two-way table</strong>, also called a <strong>contingency table</strong>, provides a clear way to summarize and explore this relationship. Rather than listing categories separately, a contingency table displays the <em>counts for every combination</em> of categories across the two variables.</p>
<p>In a contingency table, one categorical variable defines the <em>rows</em> and the other defines the <em>columns</em>. Each cell in the table shows how many observations fall into the corresponding pair of categories. The table also often includes <em>row totals</em>, <em>column totals</em>, and a <em>grand total</em>, which help place the individual cell counts in context.</p>
<p>Contingency tables are especially useful for examining <strong>associations</strong> between variables. By comparing counts or proportions across rows or columns, you can look for patterns such as whether certain categories tend to occur together more often than would be expected by chance. For example, you might ask whether voting preference differs by age group, or whether product satisfaction varies by subscription type.</p>
<p>To aid interpretation, contingency tables are often converted to <strong>conditional distributions</strong> by computing row or column percentages. Row percentages answer questions like ‚ÄúGiven this row category, how are observations distributed across the columns?‚Äù Column percentages reverse the conditioning. Choosing which percentages to compute depends on the research question and which variable is considered explanatory versus response.</p>
<p>Contingency tables form the foundation for formal statistical analysis of categorical data. In later chapters, these tables will provide the structure for chi-square tests of independence, which assess whether the observed association between two categorical variables is stronger than would be expected from random variation alone. Even before formal testing, however, contingency tables offer a powerful descriptive tool for uncovering relationships in categorical data.</p>
<div class="callout callout-style-simple callout-example callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 3.2: symptom by age group
</div>
</div>
<div class="callout-body-container callout-body">
<p>Suppose we collect data on the same symptom question but also record each patient‚Äôs age group: ‚ÄúUnder 30,‚Äù ‚Äú30‚Äì50,‚Äù or ‚ÄúOver 50.‚Äù We can summarize the joint distribution in a two‚Äëway table.</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">age_group</th>
<th style="text-align: right;">Back pain</th>
<th style="text-align: right;">Fatigue</th>
<th style="text-align: right;">Headache</th>
<th style="text-align: right;">Nausea</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">30‚Äì50</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">Over 50</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Under 30</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Each cell in the table shows the number of patients who fall into the corresponding combination of age group and symptom. We can also compute row or column relative frequencies to see percentages within each group; for example, dividing each row by its total gives the distribution of symptoms within each age group. Contingency tables allow us to see whether symptom patterns differ across age groups and serve as input for clustered or stacked bar charts (discussed in Section 3.2).</p>
</div>
</div>
</section>
<section id="why-percentages-matter" class="level3">
<h3 class="anchored" data-anchor-id="why-percentages-matter">Why percentages matter</h3>
<p>Because categorical variables can have different numbers of levels and sample sizes can vary, relative frequencies are essential for fair comparisons. Reporting only counts can be misleading: 20 supporters of a movie genre in a survey of 50 people represent a large fraction, while 20 supporters in a survey of 500 people represent a much smaller fraction. Percentages standardize the scale.</p>
<p>When displaying percentages, make sure they add to 100%. In a pie chart (a circular graph we‚Äôll describe in the next section), each slice represents a category‚Äôs percentage of the whole. Pie charts are useful for showing how the total is divided among categories, but they become cluttered with too many slices. Bar charts are more flexible: you can reorder the bars, show counts or percentages, and compare multiple groups using side‚Äëby‚Äëside or stacked bars.</p>
</section>
<section id="working-in-jmp" class="level3">
<h3 class="anchored" data-anchor-id="working-in-jmp">Working in JMP</h3>
<p>In JMP, tables and graphs for categorical variables are straightforward:</p>
<ul>
<li>To create a frequency table, go to <strong>Analyze ‚Üí Distribution</strong>, assign your categorical variable to <strong>X</strong>, and click <strong>OK</strong>. The report shows counts and percentages; use the red triangle (‚ñ∏) menu to toggle percentages, counts, or both.</li>
<li>For two categorical variables, use <strong>Analyze ‚Üí Fit Y by X</strong> and assign one variable to Y and the other to X. Choose <strong>Contingency Table</strong> from the platform to see the two‚Äëway counts and associated statistics.</li>
<li>To visualize categorical distributions, open <strong>Graph Builder</strong>, drag the categorical variable to the X‚Äëaxis, and drop the <strong>N</strong> summary statistic onto the Y‚Äëaxis. You can change the chart type to ‚ÄúBar‚Äù or ‚ÄúPie.‚Äù Dragging a second categorical variable onto the <strong>Group</strong> drop zone will create clustered or stacked bars.</li>
</ul>
</section>
<section id="recap" class="level3">
<h3 class="anchored" data-anchor-id="recap">Recap</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 18%">
<col style="width: 81%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Keyword</strong></th>
<th><strong>Definition</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Frequency table</strong></td>
<td>A table that lists each category of a variable and the number of observations in that category.</td>
</tr>
<tr class="even">
<td><strong>Relative frequency</strong></td>
<td>The proportion or percentage of observations in a category, equal to the category‚Äôs count divided by the total count.</td>
</tr>
<tr class="odd">
<td><strong>Relative frequency table</strong></td>
<td>A frequency table with an additional column showing the relative frequency of each category.</td>
</tr>
<tr class="even">
<td><strong>Two‚Äëway (contingency) table</strong></td>
<td>A table that displays the counts for each combination of levels of two categorical variable.</td>
</tr>
</tbody>
</table>
</section>
<section id="check-your-understanding" class="level3">
<h3 class="anchored" data-anchor-id="check-your-understanding">Check your understanding</h3>
<div class="callout callout-style-default callout-note callout-titled" title="Problems">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Problems
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>In a survey of 80 households, 32 own a dog, 20 own a cat, 12 own both, and the remainder own no pets. Construct a frequency table that shows the number and percentage of households in each pet ownership category (Dog only, Cat only, Both, None). Which visualization‚Äîa bar chart or a pie chart‚Äîwould you choose, and why?</p></li>
<li><p>Explain the difference between a frequency table and a relative frequency table. In what situations is it more informative to look at relative frequencies rather than absolute frequencies?</p></li>
<li><p>What is a two‚Äëway (contingency) table? Describe a scenario where a two‚Äëway table could help you explore the relationship between two categorical variables.</p></li>
<li><p>Bar charts have spaces between bars and can be drawn in any order. Why are these design choices appropriate for categorical variables? What might go wrong if you drew the bars touching or forced them into a numerical order?</p></li>
</ol>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Solutions">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solutions
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="1">
<li><p><strong>Pet ownership table.</strong> The four categories and their counts are: Dog only (20), Cat only (8), Both (12), None (40). The total number of households is 80. The relative frequencies are 25% dog only, 10% cat only, 15% both, and 50% none. A bar chart would be preferable here because it allows you to order the bars from most to least common and makes it easy to compare magnitudes. A pie chart could work for four categories, but it becomes harder to read when slices are similar in size or when there are many categories.</p></li>
<li><p><strong>Frequency vs.&nbsp;relative frequency.</strong> A frequency table reports the counts of observations in each category. A relative frequency table adds a column showing the proportion or percentage of observations in each category. Relative frequencies are more informative when comparing groups of different sizes or when you want to focus on the distribution rather than the sample size‚Äîfor example, comparing survey results from two classes of different sizes.</p></li>
<li><p><strong>Contingency table example.</strong> A two‚Äëway table displays counts for each combination of levels of two categorical variable. For instance, you could record whether each patient in a clinic has insurance (Yes/No) and whether they arrived on time (On time/Late). A contingency table would show how many patients fall into each combination (e.g., insured &amp; on time, insured &amp; late, uninsured &amp; on time, uninsured &amp; late), helping you explore whether punctuality differs by insurance status.</p></li>
<li><p><strong>Design choices.</strong> Categories have no intrinsic numeric order, so bars in a bar chart can be arranged in any order without misrepresenting the data. Leaving space between bars reinforces that the categories are distinct and unordered. If you drew the bars touching, it might suggest a continuous scale (like a histogram), which could confuse readers. Forcing categories into a numerical order might imply ranking where none exists.</p></li>
</ol>
</div>
</div>
</div>
</section>
</section>
<section id="sec-03_02" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="sec-03_02"><span class="header-section-number">3.2</span> Bar Charts and Pie Charts</h2>
<blockquote class="blockquote">
<p>‚ÄúNormally if given a choice between doing something and nothing, I‚Äôd choose to do nothing. But I would do something if it helps someone do nothing. I‚Äôd work all night if it meant nothing got done.‚Äù ‚Äì Ron Swanson</p>
</blockquote>
<p>When you‚Äôve tallied the counts of a categorical variable, your next job is to turn those numbers into a picture. Two of the simplest pictures‚Äî<em>bar charts</em> and <em>pie charts</em>‚Äîseem deceptively alike: each shows categories and their sizes. But as we‚Äôll see, they serve different purposes and come with different design rules.</p>
<section id="what-is-a-bar-chart" class="level3">
<h3 class="anchored" data-anchor-id="what-is-a-bar-chart">What is a bar chart?</h3>
<p>As we have already seen in <a href="#sec-03_01" class="quarto-xref"><span>Section 3.1</span></a>, a <strong>bar chart</strong> is one of the most common and effective ways to visualize <em>categorical data</em>. It displays distinct categories along one axis and represents a numerical value for each category‚Äîsuch as a count, proportion, or percentage‚Äîusing the length of a bar along the other axis. Bar charts can be drawn with bars oriented vertically (often called <em>column charts</em>) or horizontally, depending on which layout best supports readability.</p>
<p>A defining feature of bar charts is that the bars are <em>separated by gaps</em>. These gaps signal that the categories are discrete and unordered, distinguishing bar charts from histograms, which display continuous data with adjacent bins. The axis along which the bars extend typically starts at zero, ensuring that bar lengths accurately reflect the magnitudes being compared.</p>
<p>Bar charts are especially effective because humans are very good at comparing lengths that share a <em>common baseline</em>. This makes it easy to see which categories are larger or smaller, to compare differences across groups, and to identify patterns or outliers at a glance. For this reason, bar charts are a natural choice for summarizing frequency tables, relative frequency tables, and summary statistics across categories.</p>
<p>Bar charts are also flexible. They can be used to display raw counts, percentages, averages, or other summary measures, as long as the underlying variable is categorical. When categories have long labels or there are many of them, horizontal bar charts often improve readability. In more advanced settings, grouped or stacked bar charts can be used to compare categories across additional variables.</p>
<p>Because of their clarity and versatility, bar charts are often the first visualization used to explore categorical data and to communicate results to a broad audience.</p>
<div class="callout callout-style-simple callout-example callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 3.3: Distribution of blood types
</div>
</div>
<div class="callout-body-container callout-body">
<p>Suppose a hospital records the blood type (A, B, AB or O) of 200 randomly chosen donors. The counts are shown in the table below along with a bar chart. Notice that the bars are separated and can be reordered to make patterns easy to see.</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">type</th>
<th style="text-align: right;">count</th>
<th style="text-align: right;">prop</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">A</td>
<td style="text-align: right;">66</td>
<td style="text-align: right;">0.330</td>
</tr>
<tr class="even">
<td style="text-align: left;">AB</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0.045</td>
</tr>
<tr class="odd">
<td style="text-align: left;">B</td>
<td style="text-align: right;">31</td>
<td style="text-align: right;">0.155</td>
</tr>
<tr class="even">
<td style="text-align: left;">O</td>
<td style="text-align: right;">94</td>
<td style="text-align: right;">0.470</td>
</tr>
</tbody>
</table>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="03_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>The vertical bar chart emphasizes how common type O is relative to the others. You could flip the axes to make a horizontal bar chart if your category names are long or if you prefer to read labels on the y‚Äëaxis.</p>
</div>
</div>
</section>
<section id="design-tips-for-bar-charts" class="level3">
<h3 class="anchored" data-anchor-id="design-tips-for-bar-charts">Design tips for bar charts</h3>
<p>Bar charts are powerful because they encode values using <strong>length</strong>, which humans perceive accurately when bars share a common baseline. Poor design choices can undermine that strength and unintentionally (or intentionally) mislead the reader. The following guidelines help ensure that bar charts communicate information honestly and clearly.</p>
<section id="start-the-axis-at-zero" class="level4">
<h4 class="anchored" data-anchor-id="start-the-axis-at-zero">Start the axis at zero</h4>
<p>Because bar charts represent magnitude through bar length, the axis should almost always start at <strong>zero</strong>. Truncating the axis exaggerates differences by making small changes appear visually dramatic. While truncated axes are sometimes acceptable for line charts, they are almost always misleading for bar charts.</p>
<p><strong>What goes wrong if you don‚Äôt:</strong> Two categories with similar values may appear drastically different, leading readers to overestimate the importance of the difference.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="03_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="03_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="keep-consistent-spacing" class="level3">
<h3 class="anchored" data-anchor-id="keep-consistent-spacing">Keep consistent spacing</h3>
<p>Bars should be evenly spaced, with visible gaps between them. The gaps reinforce that categories are <strong>discrete</strong>, not continuous, and help the eye separate groups cleanly.</p>
<p><strong>What goes wrong if you don‚Äôt:</strong> Inconsistent or missing gaps can make bars blend together, confusing the chart with a histogram or suggesting unintended relationships.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="03_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="03_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="sort-deliberately" class="level3">
<h3 class="anchored" data-anchor-id="sort-deliberately">Sort deliberately</h3>
<p>The order of bars should help the reader understand the data. Common choices include <strong>alphabetical order</strong>, <strong>chronological order</strong>, or <strong>ordering by value</strong>. A deliberate ordering allows patterns and comparisons to emerge naturally.</p>
<p><strong>What goes wrong if you don‚Äôt:</strong> Random or arbitrary ordering forces the reader to work harder and can hide meaningful trends.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="03_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="03_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="avoid-clutter-and-gimmicks" class="level3">
<h3 class="anchored" data-anchor-id="avoid-clutter-and-gimmicks">Avoid clutter and gimmicks</h3>
<p>Decorative elements‚Äîsuch as 3-D bars, shadows, gradients, icons, or excessive labels‚Äîdo not add information. Instead, they distort perception, make values harder to compare, and distract from the data itself.</p>
<p><strong>What goes wrong if you don‚Äôt:</strong> 3-D effects change apparent bar lengths depending on viewing angle, and visual clutter overwhelms the message.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="03_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="03_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="why-these-rules-matter" class="level3">
<h3 class="anchored" data-anchor-id="why-these-rules-matter">Why these rules matter</h3>
<p>Each of these principles protects the integrity of the visual message. Bar charts are most effective when they are <strong>simple, proportional, and transparent</strong>. Violating these guidelines can exaggerate differences, obscure patterns, or mislead readers‚Äîsometimes unintentionally, sometimes not.</p>
<p>Following these design tips ensures that your bar charts support accurate interpretation and reinforce, rather than undermine, the credibility of your analysis.</p>
</section>
<section id="what-is-a-pie-chart" class="level3">
<h3 class="anchored" data-anchor-id="what-is-a-pie-chart">What is a pie chart?</h3>
<p>A <strong>pie chart</strong> is a graphical display used to show how a <em>whole is divided into parts</em>. The entire circle represents the total‚Äîtypically 100% of the observations‚Äîand each <em>slice</em> corresponds to a category within a categorical variable. The size of each slice is proportional to the category‚Äôs share of the total, with larger proportions occupying larger angles and areas of the circle.</p>
<p>Pie charts are widely recognized and easy to interpret at a glance. Their circular shape immediately signals a ‚Äúpart-of-a-whole‚Äù relationship, making them intuitive for audiences without formal statistical training. For this reason, pie charts are often used in presentations, reports, and media when the goal is to convey how a total is allocated across a small number of categories.</p>
<p>However, pie charts have important limitations. Human perception is better at comparing <em>lengths along a common baseline</em> than comparing angles or areas. As a result, it can be difficult to judge small differences between slices, especially when categories have similar proportions or when the chart contains many slices. Labels can also become crowded as the number of categories increases.</p>
<p>Because of these limitations, pie charts work best when:</p>
<ul>
<li>There are only a few categories,</li>
<li>The proportions differ substantially,</li>
<li>The goal is to emphasize the overall composition rather than precise comparisons.</li>
</ul>
<p>In situations where accurate comparison across categories is important, a bar chart often provides a clearer and more informative alternative. Nonetheless, when used sparingly and appropriately, pie charts can be an effective way to communicate simple part-whole relationships.</p>
<div class="callout callout-style-simple callout-example callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 3.4: Reasons for missing an appointment
</div>
</div>
<div class="callout-body-container callout-body">
<p>A dental clinic tracks why patients miss scheduled cleanings. Out of 100 missed appointments, 50 were due to forgetfulness, 20 to fear, 15 to cost, and 15 to other reasons. A pie chart makes the share of each reason obvious.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="03_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>The slices emphasize that half of the missed appointments were simply forgotten. However, imagine adding three more reasons of similar size. The slices would become crowded and hard to compare. Pie charts work only when the categories sum to a meaningful whole and there are no more than a few slices.</p>
</div>
</div>
</section>
<section id="when-to-use-bar-charts-vs.-pie-charts" class="level3">
<h3 class="anchored" data-anchor-id="when-to-use-bar-charts-vs.-pie-charts">When to use bar charts vs.&nbsp;pie charts</h3>
<p>Although the same categorical data can often be displayed using either a bar chart or a pie chart, the two serve <em>different analytical purposes</em> and are not interchangeable. Choosing the right chart depends on what you want the reader to notice and compare.</p>
<section id="use-a-bar-chart-when-you-want-to" class="level4">
<h4 class="anchored" data-anchor-id="use-a-bar-chart-when-you-want-to">Use a <strong>bar chart</strong> when you want to:</h4>
<ul>
<li><p><strong>Compare values across categories or between groups.</strong> Bar charts place values along a common baseline, making differences in magnitude easy to see. This is especially important when categories have similar values or when precise comparisons matter, such as comparing approval ratings across departments or test scores across teaching methods.</p></li>
<li><p><strong>Display statistics that do not form a meaningful whole.</strong> Many summary statistics‚Äîsuch as averages, medians, rates, or scores‚Äîdo not add up to 100% and therefore do not represent parts of a single total. A pie chart would be inappropriate in these cases, while a bar chart can display these values clearly and honestly.</p></li>
<li><p><strong>Show many categories, even if some are small.</strong> Bar charts remain readable with a large number of categories, particularly when sorted or displayed horizontally. Small values can still be compared accurately, whereas tiny pie slices are difficult to see and label.</p></li>
</ul>
<p>Because bar charts rely on length comparisons, they align well with how people naturally judge quantity, making them the default choice for most categorical comparisons.</p>
</section>
<section id="use-a-pie-chart-only-when" class="level4">
<h4 class="anchored" data-anchor-id="use-a-pie-chart-only-when">Use a <strong>pie chart</strong> only when:</h4>
<ul>
<li><p><strong>The values represent parts of a whole that add up to 100%.</strong> Pie charts are specifically designed to show how a total is divided among categories. If the data do not represent proportions of a single whole, a pie chart is misleading.</p></li>
<li><p><strong>The number of categories is small.</strong> Pie charts work best with a limited number of slices‚Äîideally no more than four or five. Too many slices make the chart cluttered and difficult to interpret.</p></li>
<li><p><strong>The goal is to communicate the overall composition, not precise differences.</strong> Pie charts are effective for conveying the big picture‚Äîsuch as showing that one category dominates the total‚Äîrather than for comparing closely sized categories.</p></li>
</ul>
</section>
</section>
<section id="a-practical-rule-of-thumb" class="level3">
<h3 class="anchored" data-anchor-id="a-practical-rule-of-thumb">A practical rule of thumb</h3>
<p>If you find yourself <em>squinting at a pie chart</em> to decide which slice is larger, that‚Äôs a sign the chart is doing too much. In those cases, switch to a bar chart. Because humans are far better at judging lengths than angles or areas, bar charts almost always provide clearer and more accurate comparisons.</p>
<p>In practice, bar charts should be your default choice, with pie charts reserved for simple, high-level part-of-a-whole messages.</p>
</section>
<section id="clustered-and-stacked-bar-charts" class="level3">
<h3 class="anchored" data-anchor-id="clustered-and-stacked-bar-charts">Clustered and stacked bar charts</h3>
<p>Sometimes you have two categorical variables and want to see how their categories interact. We introduced two‚Äëway tables in <a href="#sec-03_01" class="quarto-xref"><span>Section 3.1</span></a>; here‚Äôs how to graph them.</p>
<p>A <strong>clustered (side‚Äëby‚Äëside) bar chart</strong> groups bars for each level of a second variable next to each other so you can compare across groups. For example, imagine you survey 120 patients about how satisfied they were with a new physical therapy program (satisfied, neutral, dissatisfied) and record whether they were in the treatment or control group. A clustered bar chart shows differences in satisfaction between the two groups.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="03_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>In a <strong>stacked bar chart</strong>, bars for each category are stacked atop one another. This emphasizes the total size of each category but makes it harder to compare the segments across stacks. You might use a stacked chart to show how types of injuries (sprain, fracture, other) contribute to emergency visits across departments; if you convert each bar to 100% of its height, you get a <em>100% stacked bar chart</em> that highlights composition within each group.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="03_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="03_files/figure-html/unnamed-chunk-13-2.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<section id="cautions-with-stacked-bars" class="level4">
<h4 class="anchored" data-anchor-id="cautions-with-stacked-bars">Cautions with stacked bars</h4>
<p>Stacked bars are useful when you care about the total across categories, but they hide patterns in the middle segments. In the last plot, you can easily compare the overall emergency visits across departments and the share of fractures, but it‚Äôs harder to compare the ‚Äúother‚Äù injuries across departments because their segments float at different heights. If your goal is to compare subgroups, a clustered bar chart is usually better.</p>
</section>
</section>
<section id="working-in-jmp-1" class="level3">
<h3 class="anchored" data-anchor-id="working-in-jmp-1">Working in JMP</h3>
<p>In JMP, bar and pie charts live in the <strong>Graph Builder</strong>. Drag your categorical variable to the X‚Äëaxis and drop the <strong>N</strong> or <strong>%</strong> statistic onto the Y‚Äëaxis to create a bar chart. To cluster by a second categorical variable, drop it in the <strong>Group</strong> or <strong>Overlay</strong> zone, and choose <em>Bar (Horizontal)</em> or <em>Bar (Vertical)</em> from the chart palette. To stack, use the <strong>Stack</strong> option in the legend. To make a pie chart, drag the categorical variable to a blank canvas and choose <em>Pie</em>; JMP will automatically convert counts to percentages and label the slices. Use the red triangle (‚ñ∏) menu to display data labels, reorder slices, or combine small categories into an ‚ÄúOther‚Äù slice.</p>
</section>
<section id="recap-1" class="level3">
<h3 class="anchored" data-anchor-id="recap-1">Recap</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 11%">
<col style="width: 88%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Keyword/Concept</strong></th>
<th><strong>Definition or note</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Bar chart</strong></td>
<td>Graph that displays categories along one axis and uses the length of bars to represent numeric values; great for comparing counts or percentages across categories.</td>
</tr>
<tr class="even">
<td><strong>Pie chart</strong></td>
<td>Circular chart in which slices represent how a total is divided among categories; appropriate only when values sum to a meaningful whole and the number of categories is small.</td>
</tr>
<tr class="odd">
<td><strong>Clustered (side‚Äëby‚Äëside) bar chart</strong></td>
<td>Bar chart where categories are grouped side by side for levels of a second variable; useful for comparing groups across categories.</td>
</tr>
<tr class="even">
<td><strong>Stacked bar chart</strong></td>
<td>Bar chart where bars for each subgroup are stacked; shows composition and totals but makes it harder to compare individual segments.</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="check-your-understanding-1" class="level3">
<h3 class="anchored" data-anchor-id="check-your-understanding-1">Check your understanding</h3>
<ol type="1">
<li><p>A clinical trial reports the average pain score (on a 0‚Äì10 scale) for three physical therapy programs. Should you use a bar chart or a pie chart? Explain your reasoning.</p></li>
<li><p>A nutritionist surveys 500 patients about their preferred breakfast type: cereal, fruit, eggs, or none. The counts are 150, 120, 80, and 150. Sketch how you would display this information with a pie chart. When might a bar chart be preferable?</p></li>
<li><p>In a mental health study, participants are classified into stress levels (low, moderate, high) and whether they attended counseling (Yes/No). Which type of bar chart would you use to compare stress levels between counseling and non‚Äëcounseling participants? What pattern would indicate that counseling is associated with lower stress?</p></li>
<li><p>A bar chart shows the average number of cavities per patient in three dental clinics: 1.2, 1.3 and 1.4 cavities. The y‚Äëaxis starts at 1.0. Explain why this design might mislead and how to fix it.</p></li>
<li><p>Give two reasons why pie charts often make it harder to compare categories than bar charts.</p></li>
</ol>
<div class="callout callout-style-default callout-tip callout-titled" title="Solutions">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solutions
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>You should use a <strong>bar chart</strong> because the numbers represent average pain scores and do not sum to a meaningful whole. Pie charts imply a part‚Äëto‚Äëwhole relationship and would be misleading here.</p></li>
<li><p>The four breakfast types form parts of the whole sample (500 patients). In a pie chart, the slices would be 30% cereal, 24% fruit, 16% eggs, and 30% none. However, a bar chart may be preferable because it allows you to order the categories from most to least common and makes it easier to compare the cereal and none categories, which are equal in size.</p></li>
<li><p>A <strong>clustered (side‚Äëby‚Äëside) bar chart</strong> would let you compare the counts (or proportions) of low, moderate, and high stress within the counseling and non‚Äëcounseling groups. If counseling is associated with lower stress, you would expect the ‚Äúlow‚Äù bar to be taller (or the ‚Äúhigh‚Äù bar shorter) in the counseling group than in the non‚Äëcounseling group.</p></li>
<li><p>Starting the y‚Äëaxis at 1.0 truncates the bars and exaggerates small difference. To avoid misleading readers, start the axis at zero. Alternatively, use a dot plot or annotate the differences directly if the differences are small but meaningful.</p></li>
<li><p>First, people judge lengths more accurately than angles; in a pie chart it is hard to gauge the exact size of a slice. Second, when slices are similar in size or there are many categories, comparing slices becomes difficult and the chart becomes cluttered. Bar charts avoid these issues by using a common baseline and allowing many bars.</p></li>
</ol>
</div>
</div>
</div>
<!-- ## Organizing Quantitative Data {#sec-03_03} -->
<!-- > "It‚Äôs not what you look at that matters, it‚Äôs what you see." - Henry David Thoreau -->
<!-- **Guiding question:** *How should we organize quantitative data?* -->
<!-- Categorical variables live in their own world of discrete groups, but numerical variables‚Äîsuch as heights, blood pressures, cholesterol levels, or reaction times‚Äîcan take on a continuum of values. To make sense of a list of numbers, we need to group them in a sensible way. In this section we learn how to organize quantitative data into tables that lay the foundation for graphs like histograms, stem‚Äëand‚Äëleaf plots, and dotplots. These tables help us see where the data concentrate, how spread out they are, and how the numbers accumulate. -->
<!-- ### Constructing frequency distributions -->
<!-- A **frequency distribution** for quantitative data is a table that divides the range of the data into non‚Äëoverlapping intervals (called **classes**) and lists the number of observations (the frequency) falling into each class. Each class has a lower limit and an upper limit, the class width is the difference between consecutive lower limits, and the range of the dataset is the difference between the maximum and minimum values. The goal is to choose enough classes to reveal the shape of the distribution without obscuring details. -->
<!-- To build a frequency distribution: -->
<!-- 1. **Decide on the number of classes.** A common guideline is to use between 5 and 20 classes; fewer classes oversimplify the data, while too many classes produce a noisy table. -->
<!-- 2. **Compute the class width.** Subtract the minimum value from the maximum value to obtain the range, divide by the chosen number of classes, and round up to a convenient number. This ensures all data points fit into a class without overlap. -->
<!-- 3. **Determine class limits.** Begin at or slightly below the minimum value and add the class width repeatedly to set the lower and upper limits of each class. -->
<!-- 4. **Tally the frequencies.** Count how many observations fall into each class. -->
<!-- Let's see these steps with an example from dentistry. Suppose a dental researcher records the number of cavities filled for 40 patients in a clinic over the past month. We want to summarize the distribution of cavities per patient. -->
<!-- ```{r} -->
<!-- #| echo: false -->
<!-- #| message: false -->
<!-- #| warning: false -->
<!-- set.seed(2025) -->
<!-- library(dplyr) -->
<!-- library(ggplot2) -->
<!-- # Simulate the number of cavities filled for 40 patients (skewed count data) -->
<!-- cavities <- rpois(40, lambda = 2)  # average of 2 cavities per patient -->
<!-- cavity_tbl <- tibble(cavities = cavities) %>% -->
<!--   mutate(class = cut(cavities, -->
<!--                      breaks = seq(-0.5, max(cavities) + 0.5, by = 1), -->
<!--                      right = TRUE)) %>% -->
<!--   count(class, name = "frequency") -->
<!-- cavity_tbl |> kableExtra::kable() -->
<!-- ``` -->
<!-- The table lists each class of cavities (0, 1, 2, 3, ‚Ä¶) along with the number of patients in that class. For example, if 13 patients had exactly two cavities, the class ‚Äú(1.5, 2.5]‚Äù (interpreted as 2 cavities) would have a frequency of 13. When the data are counts like this, classes of width 1 make sense; for continuous measurements like blood pressure, you would choose wider classes to group the data into ranges. -->
<!-- ### Relative and cumulative frequencies -->
<!-- Raw counts are helpful, but sometimes we want to know what proportion of observations fall into each class. The **relative frequency** of a class is the class frequency divided by the total number of observations. If you add successive relative frequencies as you move across the classes, you get the **cumulative frequency**, which tells you the proportion of observations less than or equal to a given class boundary. -->
<!-- We can extend our cavities example to compute relative and cumulative frequencies: -->
<!-- ```{r} -->
<!-- #| echo: false -->
<!-- #| message: false -->
<!-- #| warning: false -->
<!-- cavity_tbl <- cavity_tbl %>% -->
<!--   mutate(relative_frequency = frequency / sum(frequency), -->
<!--          cumulative_frequency = cumsum(frequency) / sum(frequency)) -->
<!-- cavity_tbl|> kableExtra::kable() -->
<!-- # Plot an ogive (cumulative frequency graph) -->
<!-- ggplot(cavity_tbl, aes(x = 0:6, y = cumulative_frequency)) + -->
<!--   geom_line() + -->
<!--   geom_point() + -->
<!--   labs(x = "Number of cavities", -->
<!--        y = "Cumulative proportion", -->
<!--        title = "Ogive of cavities per patient") + -->
<!--   theme_minimal()+ -->
<!--   ylim(0,1) -->
<!-- ``` -->
<!-- The cumulative frequency column increases steadily and reaches 1 at the end of the table. A graph of cumulative frequencies, called an **ogive** (pronounced "O-jive"), plots the cumulative proportion versus the class.  -->
<!-- ### Choosing the number of classes -->
<!-- Selecting an appropriate number of classes is more art than science, but a few guidelines help. Many textbooks suggest between 5 and 20 classes; an alternative rule of thumb for histograms is to use 5 to 15 bars. As the sample size grows, more classes allow finer detail, but too many classes produce a sparse table. In practice, try several class widths and see which one provides a clear picture of the data. Software like JMP and R will automatically suggest class widths, but you can adjust them manually. -->
<!-- ### Working in JMP Pro 17 -->
<!-- To organize quantitative data in JMP: -->
<!-- * Use **Analyze ‚Üí Distribution** and assign your quantitative variable to the Y‚Äëaxis. JMP will display a histogram along with a frequency table showing counts, percentages, and cumulative percentages. The red triangle (‚ñ∏) menu lets you change the number of bins or show the cumulative distribution. -->
<!-- * To extract a frequency table without a histogram, go to **Analyze ‚Üí Tabulate**, drag your quantitative variable to the **Drop Zone for columns**, and select a statistic such as **N** or **Percent**. JMP‚Äôs Tabulate platform can create grouped summaries by another variable (e.g., cavities by gender). -->
<!-- ### Recap -->
<!-- | **Keyword**               | **Definition**                                                                                                                                                        | -->
<!-- | ------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -->
<!-- | **Class**                 | An interval into which quantitative data are grouped in a frequency distribution; each class has lower and upper limits.                      | -->
<!-- | **Frequency distribution** | A table that lists classes of quantitative data and the number of observations in each class.                                                 | -->
<!-- | **Class width**           | The difference between consecutive lower class limits, computed by dividing the data range by the number of classes. | -->
<!-- | **Relative frequency**     | The fraction or percentage of observations in a class, equal to the class frequency divided by the total sample size.                           | -->
<!-- | **Cumulative frequency**   | The running total of frequencies (or relative frequencies) up to a given class, used to construct an ogive.         | -->
<!-- | **Ogive**                 | A graph of cumulative frequencies or cumulative relative frequencies versus the upper class boundary, useful for identifying percentiles.      | -->
<!-- ### Check your understanding -->
<!-- 1. The heights (in centimeters) of 50 adolescents undergoing orthodontic treatment are recorded. Explain how you would construct a frequency distribution for these heights. How might your choice of the number of classes affect your ability to see the shape of the distribution? -->
<!-- 2. Differentiate between a relative frequency distribution and a cumulative frequency distribution. In what situations would you prefer to look at cumulative frequencies instead of simple frequencies? -->
<!-- 3. Suppose a hospital‚Äôs quality control team records the time (in minutes) it takes to triage 100 emergency room patients. The times range from 1 to 28 minutes. If you decide to use eight classes in your frequency distribution, what is the class width? After building the frequency table, describe how you would create an ogive for the data. -->
<!-- 4. A dataset contains the number of decayed teeth per child in a dental study. Why might a class width of 1 be appropriate for this frequency distribution? When might you choose a wider class width? -->
<!-- ::: {.callout-tip collapse="true" title="Solutions"} -->
<!-- 1. **Constructing a frequency distribution.** List the minimum and maximum heights, decide on the number of classes (e.g., between 5 and 15), compute the class width by dividing the range by the number of classes, and set class limits starting at or below the minimum. Tally the number of heights falling into each class. Fewer classes smooth out details; more classes reveal fine structure but may result in many empty or low‚Äëfrequency intervals. Experimenting with different numbers of classes helps you see the underlying shape. -->
<!-- 2. **Relative vs. cumulative frequency.** A relative frequency distribution reports the proportion of observations in each class. A cumulative frequency distribution adds the proportions successively to show the total proportion up to each class. Cumulative frequencies are useful when you care about percentiles or thresholds‚Äîfor example, determining the percentage of patients whose heights are below a certain value. -->
<!-- 3. **Calculating class width and drawing an ogive.** The range is 28 ‚àí 1 = 27 minutes. Dividing by eight classes gives 3.375 minutes; rounding up to 4 minutes yields a class width of 4. You would start your first class at or below 1 minute and create successive 4‚Äëminute intervals (e.g., 0‚Äì4, 4‚Äì8, ‚Ä¶ ). After tallying frequencies, compute cumulative frequencies and plot them against the upper class boundaries to form the ogive. -->
<!-- 4. **Choosing class width for count data.** Decayed teeth are counted in whole numbers, so using a class width of 1 preserves each distinct count (0, 1, 2, ‚Ä¶) and yields an easy‚Äëto‚Äëinterpret distribution. If the counts range widely or if some counts are rare, a wider class width (e.g., grouping 4‚Äì6 teeth together) could reduce sparsity and simplify the table. -->
<!-- ::: -->
<!-- ## Histograms, Stem‚Äëand‚ÄëLeaf Plots, and Dotplots {#sec-03_4} -->
<!-- **Guiding question:** *What‚Äôs the right way to visualize quantitative data?* -->
<!-- Once quantitative data are grouped into classes, we can visualize the distribution using several complementary plots. Histograms show how the data are distributed across intervals; stem‚Äëand‚Äëleaf plots preserve individual values while offering a quick visual summary; and dotplots display each observation as a dot. Choosing the right tool depends on your sample size, measurement scale, and the story you want to tell. -->
<!-- ### Histograms -->
<!-- A **histogram** is a bar‚Äëlike graph in which adjacent rectangles represent the classes of a quantitative variable. The horizontal axis is measured in the units of the data, and the vertical axis shows the frequency or relative frequency in each class. Unlike bar charts for categorical data, the bars in a histogram touch to indicate that the underlying scale is continuous. Histograms are excellent for revealing the shape, center, and spread of a distribution. -->
<!-- To construct a histogram: -->
<!-- 1. Create a frequency distribution with classes of equal width (see @sec-03_03). -->
<!-- 2. On the horizontal axis, draw the class boundaries; on the vertical axis, mark the frequencies or relative frequencies. -->
<!-- 3. Draw adjacent rectangles whose widths correspond to the class widths and whose heights correspond to the class frequencies. For a **density histogram**, scale the heights so that the area of each rectangle equals the class‚Äôs relative frequency; the total area of the histogram equals one„Äë. -->
<!-- The number of bins (rectangles) influences the appearance of the histogram. A rule of thumb is to choose between 5 and 15 bins; using more bins adds detail but may create spiky plots. Avoid decorative 3‚ÄëD effects and keep the bars aligned on a common baseline. -->
<!-- #### Example: Resting heart rates -->
<!-- Consider a study of the resting heart rates (in beats per minute) of 100 individuals undergoing physical therapy.  -->
<!-- ```{r} -->
<!-- #| echo: false -->
<!-- #| message: false -->
<!-- #| warning: false -->
<!-- set.seed(2025) -->
<!-- heart_rates <- round(rnorm(100, mean = 70, sd = 8)) -->
<!-- hr_tbl <- tibble(rate = heart_rates)  -->
<!-- # %>% -->
<!-- #   mutate(class = cut(rate, -->
<!-- #                      breaks = seq(floor(min(rate)) - 0.5, -->
<!-- #                                   ceiling(max(rate)) + 0.5, -->
<!-- #                                   by = 4), right = TRUE)) %>% -->
<!-- #   count(class, name = "frequency") -->
<!-- ggplot(hr_tbl, aes(x = rate)) + -->
<!--   geom_histogram(bins = 10,color = "black", fill="red")+ -->
<!--   labs(x = "Resting heart rate (beats per minute)", -->
<!--        y = "Number of patients", -->
<!--        title = "Distribution of resting heart rates") + -->
<!--   theme_minimal() -->
<!-- ``` -->
<!-- The histogram reveals the overall shape, identifies any outliers, and helps us decide whether certain distribution assumptions might be reasonable. In JMP, you can create a histogram by assigning the variable to Y in the **Distribution** platform; use the red triangle (‚ñ∏) menu to adjust the binning. -->
<!-- ### Stem‚Äëand‚Äëleaf plots -->
<!-- A **stem‚Äëand‚Äëleaf plot** divides each observation into a ‚Äústem‚Äù (the leading digits) and a ‚Äúleaf‚Äù (the last digit. You list the possible stems in order and write the leaves next to their stems. This simple display retains the actual data values while giving a visual impression of the distribution. It‚Äôs particularly useful for small to moderate sample sizes (roughly under 100 observations). Unlike histograms, a stem‚Äëand‚Äëleaf plot shows every data point, so you can reconstruct the original dataset if needed. -->
<!-- For example, suppose an orthopedic clinic records the times (in days) for 20 patients to regain full range of motion after knee surgery. We can construct a stem‚Äëand‚Äëleaf plot as follows: -->
<!-- ```{r} -->
<!-- #| echo: false -->
<!-- #| message: false -->
<!-- #| warning: false -->
<!-- set.seed(2027) -->
<!-- rehab_times <- round(rlnorm(20, meanlog = 2.5, sdlog = 0.3)) -->
<!-- rehab_tbl <- tibble(time = rehab_times) %>% -->
<!--   arrange(time) %>% -->
<!--   mutate(stem = floor(time / 10), -->
<!--          leaf = time %% 10) -->
<!-- rehab_times |> stem() -->
<!-- ``` -->
<!-- In a manual stem‚Äëand‚Äëleaf plot, the stems would be 2, 3, 4, ‚Ä¶ representing tens of days, and the leaves would be the units digit. Many statistical software packages split each stem into two rows‚Äîone for leaves 0‚Äì4 and one for leaves 5‚Äì9‚Äîto provide more detail. Reading the plot, you can quickly see that most patients recover in the 10‚Äì14 day range and that the longest recovery took about 24 days. Because the stems are ordered, the plot shows the shape of the distribution and highlights extremes. -->
<!-- ### Dotplots -->
<!-- A **dotplot** places a dot above a number line for each observation; if multiple observations share the same value, the dots stack vertically. Dotplots are easy to construct and interpret for small datasets and can handle discrete and continuous variables. They show clusters, gaps, and outliers while preserving individual data points. -->
<!-- Continuing our dental theme, imagine researchers record the number of clinic visits per patient during a year for 25 orthodontic patients. A dotplot can reveal whether most patients require only a few visits or if some need frequent check‚Äëups. -->
<!-- ```{r} -->
<!-- #| echo: false -->
<!-- #| message: false -->
<!-- #| warning: false -->
<!-- set.seed(2028) -->
<!-- visits <- rpois(25, lambda = 3) -->
<!-- visits_tbl <- tibble(visits = visits)  -->
<!-- ggplot(visits_tbl, aes(x = visits)) + -->
<!--   geom_dotplot() + -->
<!--   labs(x = "Number of visits", -->
<!--        y = "Count", -->
<!--        title = "Dotplot of yearly clinic visits") + -->
<!--   theme_minimal() -->
<!-- ``` -->
<!-- The plot makes it clear that most patients had between one and three visits, while a few had zero or five visits. Dotplots are an excellent choice when exact values matter, such as showing distribution of test scores or daily step counts. -->
<!-- ### Choosing the right display -->
<!-- * **Histograms** reveal the overall shape of a distribution and are most useful for moderate to large samples. They sacrifice individual data values to provide a smooth picture of the distribution. -->
<!-- * **Stem‚Äëand‚Äëleaf plots** preserve actual data values and work well for small to moderate samples. They quickly show the shape and allow you to recover the raw data. -->
<!-- * **Dotplots** also preserve individual values and are easy to interpret for small datasets; they can handle discrete counts and continuous measurements. -->
<!-- ### Working in JMP Pro 17 -->
<!-- In JMP: -->
<!-- * To create a histogram or stem‚Äëand‚Äëleaf plot, use **Analyze ‚Üí Distribution**. For stem‚Äëand‚Äëleaf plots, JMP automatically splits stems if needed and prints the ‚Äúleaf unit.‚Äù The red triangle (‚ñ∏) menu lets you toggle between histogram and stem‚Äëand‚Äëleaf views. -->
<!-- * To build a dotplot, open **Graph Builder**, drag your quantitative variable to the X‚Äëaxis, and choose ‚ÄúDot Plot‚Äù from the element palette. -->
<!-- ### Recap -->
<!-- | **Keyword**                 | **Definition**                                                                                                                                                     | -->
<!-- | --------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -->
<!-- | **Histogram**               | A graph of adjacent rectangles representing classes of a quantitative variable; the horizontal axis is numeric and the bars touch.     | -->
<!-- | **Relative frequency histogram** | A histogram in which the height of each bar shows the relative frequency (proportion) in that class, so the sum of the bar heights equals 1.                  | -->
<!-- | **Stem‚Äëand‚Äëleaf plot**       | A display that splits each data value into a stem (leading digits) and a leaf (trailing digit), preserving the original data.         || -->
<!-- | **Dotplot**                 | A plot that places a dot above each data value on a number line, with stacked dots representing repeated values.                           | -->
<!-- ### Check your understanding -->
<!-- 1. Explain why a histogram is drawn with adjacent bars touching. How does this design reinforce the type of variable being plotted? -->
<!-- 2. For a set of 15 recovery times (in days) after a dental procedure, would you prefer a histogram, a stem‚Äëand‚Äëleaf plot, or a dotplot? Justify your choice. -->
<!-- 3. In a stem‚Äëand‚Äëleaf plot, what do the stems and leaves represent? Why might you choose to split the stems into two rows for certain datasets? -->
<!-- ::: {.callout-tip collapse="true" title="Solutions"} -->
<!-- 1. **Why bars touch.** The bars in a histogram are adjacent because the underlying variable is continuous, and there are no gaps between the classes. Drawing the bars together emphasizes that each class covers an interval on the number line; a gap would incorrectly suggest a break between values. -->
<!-- 2. **Choosing a plot for 15 observations.** For a sample of 15 recovery times, a stem‚Äëand‚Äëleaf plot or dotplot would preserve the individual values and make it easy to see exact times. A histogram could also work, but with so few observations its appearance would depend heavily on the chosen bin width. Stem‚Äëand‚Äëleaf plots are especially useful here because they reveal the shape and extremes while retaining the data. -->
<!-- 3. **Interpreting stems and leaves.** In a stem‚Äëand‚Äëleaf plot, the stem contains the leading digits of each number and the leaf is the final digit. Splitting stems into two rows‚Äîone for leaves 0‚Äì4 and one for leaves 5‚Äì9‚Äîprovides more detail and smooths out long runs of leaves, making the distribution easier to read. -->
<!-- ::: -->


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>